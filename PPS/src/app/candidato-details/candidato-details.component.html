<div class="container">
  <table class="app-table">
    <thead>
      <tr><td><h2>Detalle de candidato</h2></td></tr>
      <tr>
        <td>
          <label>Seleccione un candidato</label>
          <select class="form-control" id="candidato"
                  required
                  [(ngModel)]="candidatoElegido">
            <option *ngFor="let cand of candidatos" [value]="cand.id">{{cand.nombreCompleto}}</option>
          </select>
        </td>
      </tr>
      <tr><td><button (click)="details()" type="submit" class="btn btn-success">Ver detalle</button></td></tr>
    </thead>
  </table>
  <table *ngFor="let cand of candidatos" class="app-table">
    <tbody *ngIf="eligioCandidato && cand.id == candidatoElegido">
      <tr>
        <td>
          <label>Nombre: </label>
          <input [(ngModel)]="candidatoEditado.nombre">
        </td>
      </tr>
      <tr>
        <td>
          <label>Apellido: </label>
          <input [(ngModel)]="candidatoEditado.apellido">
        </td>
      </tr>
      <tr>
        <td>
          <label>Cargo: </label>
          <select class="form-control" id="candidato-cargo" required
                  [(ngModel)]="candidatoEditado.cargo">
            <option *ngFor="let cargo of cargos" [value]="cargo.numero">{{cargo.nombre}}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>
          <div *ngIf="candidatoEditado.cargo == 0 || candidatoEditado.cargo == 1">
            <label>Provincia: </label>
            <select class="form-control" id="candidato-provincia" required (change)="reloadPartidos($event)"
                    [(ngModel)]="candidatoEditado.localidad.provincia.nombreProvincia">
              <option *ngFor="let prov of provincias" [value]="prov.nombreProvincia">{{prov.nombreProvincia}}</option>
            </select>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <div *ngIf="candidatoEditado.cargo == 0">
            <label>Localidad: </label>
            <select class="form-control" id="candidato-localidad" required
                    [(ngModel)]="candidatoEditado.localidad.id">
              <option *ngFor="let loc of localidades" [value]="loc.id">{{loc.nombreLocalidad}}</option>
            </select>
          </div>
        </td>
      </tr>
      <tr>
        <td>
          <label>Partido:</label>
          <select class="form-control" id="candidato-partido"
                  required
                  [(ngModel)]="candidatoEditado.partido.numeroLista">
            <option *ngFor="let part of partidos" [value]="part.numeroLista">{{part.nombre}}</option>
          </select>
        </td>
      </tr>
      <tr>
        <td>
          <label>Foto:</label>
          <input [(ngModel)]="candidatoEditado.urlFoto">
        </td>
      </tr>
      <tr>
        <td>
          <button (click)="edit()" type="submit" class="btn btn-success">Editar</button>
          <button (click)="delete()" type="submit" class="btn btn-warning">Borrar</button>
        </td>
      </tr>
    </tbody>
  </table>

</div>
