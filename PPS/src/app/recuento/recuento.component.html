<div class="container">
  <h2>Recuento de votos</h2>
  <div *ngIf="seleccionoModo == false">
    <button class="btn btn-info" (click)="mostrarForm('pais')"> Datos en el pa√≠s </button>
    <button class="btn btn-info" (click)="mostrarForm('provincia')"> Datos por provincia </button>
    <button class="btn btn-info" (click)="mostrarForm('localidad')"> Datos por localidad </button>
    <button class="btn btn-info" (click)="mostrarForm('mesa')"> Datos por mesa </button>
  </div>
  <div *ngIf="seleccionoModo == true">
    <div *ngIf="modo=='provincia'||modo=='localidad'||modo=='mesa'">
      <p>Seleccione una provincia</p>
      <select class="form-control" id="provincia" [(ngModel)]="provincia" (change)="loadLocalidad()" required>
        <option *ngFor="let provincia of provincias" [value]="provincia.nombreProvincia">{{provincia.nombreProvincia}}</option>
      </select>
    </div>
    <div *ngIf="modo=='localidad'||modo=='mesa'">
      <p>Seleccione una localidad</p>
      <select class="form-control" id="localidad" (change)="loadMesas()" [(ngModel)]="localidad" required>
        <option *ngFor="let localidad of localidades" [value]="localidad.nombreLocalidad">{{localidad.nombreLocalidad}}</option>
      </select>
    </div>
    <div *ngIf="modo=='mesa'">
      <p>Seleccione una mesa</p>
      <select class="form-control" id="mesa" [(ngModel)]="mesa" required>
        <option *ngFor="let mesa of mesas" [value]="mesa.id">{{mesa.numero}}</option>
      </select>
    </div>
    <p>Seleccione el cargo</p>
    <select [(ngModel)]="cargo" class="form-control" id="cargo" required>
      <option *ngFor="let c of cargos; let i = index" [attr.data-index]="i" [value]="i">{{c}}</option>
    </select><br />
    <button class="btn btn-default  btn-lg pull-right" (click)="back()"> Atras </button>
    <button class="btn btn-success  btn-lg pull-right" (click)="mostrarDatos()"> Ver Datos </button>
    

    <div *ngIf="llegoData">
      <label>{{messageRecuento}}</label>
      <div style="display: block">
        <canvas baseChart
                [data]="pieChartData"
                [labels]="pieChartLabels"
                [chartType]="pieChartType"
                (chartHover)="chartHovered($event)"
                (chartClick)="chartClicked($event)"></canvas>
      </div>
    </div>
    <div class="alert alert-warning" *ngIf="noHayData == true">
      <strong>No existen datos cargados para este cargo</strong>
    </div>
  </div>
</div>


